<!--
  Generated template for the OcenePage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar color="primary">
    <ion-title>{{restavracija.naziv_restavracije}}</ion-title>
  </ion-navbar>

</ion-header>

<ion-content padding>
  <form (ngSubmit)="addOcena()" #komentar="ngForm">
    <ion-list no-lines>
      <ion-item> 
        <ion-input [(ngModel)]="novaOcena.uporabnik_id" type="number" placeholder="ID uporabnika" name="uporabnik_id" required></ion-input> <!--[(ngModel)]="novaOcena.uporabnik_id"-->
      </ion-item>
      <ion-item>
        <ion-textarea [(ngModel)]="novaOcena.komentar" placeholder="Ocenite restavracijo" name="komentar" required></ion-textarea> <!-- [(ngModel)]="novaOcena.komentar"-->
      </ion-item>
      <ion-item>
        <ion-range [(ngModel)]="novaOcena.stOcena" min="0" max="5" pin="true" name="stOcena"> <!--[(ngModel)]="novaOcena.stOcena"-->
          <ion-icon range-left name=""><img height="20px" src="/img/ocena/star-lightgreen.png" /></ion-icon>
          <ion-icon range-right name=""><img height="20px" src="/img/ocena/star-green.png" /></ion-icon>
        </ion-range>
      </ion-item>
    </ion-list>
    <button ion-button class="submit-btn" full type="submit" [disabled]="!komentar.form.valid">Oddaj oceno</button>
  </form>
  
  <ion-list>
    <ion-item text-wrap no-lines *ngFor="let ocena of seznamOcen">
      Datum: {{ocena.datum}} <br/>
      Uporabnik: {{ocena.uporabnik_id}}<br/>
      Komentar: {{ocena.komentar}}<br/>
      Å t. ocena: 
      <ion-icon *ngIf="ocena.stOcena == 5" name="">
        <img height="20px" src="/img/ocena/star-green.png" />
        <img height="20px" src="/img/ocena/star-green.png" />
        <img height="20px" src="/img/ocena/star-green.png" />
        <img height="20px" src="/img/ocena/star-green.png" />
        <img height="20px" src="/img/ocena/star-green.png" />
      </ion-icon>
      <ion-icon *ngIf="ocena.stOcena == 4" name="">
        <img height="20px" src="/img/ocena/star-green.png" />
        <img height="20px" src="/img/ocena/star-green.png" />
        <img height="20px" src="/img/ocena/star-green.png" />
        <img height="20px" src="/img/ocena/star-green.png" />
      </ion-icon>
      <ion-icon *ngIf="ocena.stOcena == 3" name="">
        <img height="20px" src="/img/ocena/star-green.png" />
        <img height="20px" src="/img/ocena/star-green.png" />
        <img height="20px" src="/img/ocena/star-green.png" />
      </ion-icon>
      <ion-icon *ngIf="ocena.stOcena == 2" name="">
        <img height="20px" src="/img/ocena/star-green.png" />
        <img height="20px" src="/img/ocena/star-green.png" />
      </ion-icon>
      <ion-icon *ngIf="ocena.stOcena == 1" name="">
        <img height="20px" src="/img/ocena/star-green.png" />
      </ion-icon>
    </ion-item>
  </ion-list>

</ion-content>